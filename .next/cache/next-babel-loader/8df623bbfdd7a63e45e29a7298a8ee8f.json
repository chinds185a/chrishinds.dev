{"ast":null,"code":"import matter from \"gray-matter\";\nimport marked from \"marked\";\nimport yaml from \"js-yaml\";\n\nconst getAllPosts = async () => {\n  const context = require.context(\"../_posts\", false, /\\.md$/);\n\n  const posts = [];\n\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../_posts/${post}`);\n    const meta = matter(content.default);\n    posts.push({\n      slug: post.replace(\".md\", \"\"),\n      title: meta.data.title\n    });\n  }\n\n  return posts;\n};\n\nconst getPostBySlug = async slug => {\n  const fileContent = await import(`../_posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const content = marked(meta.content);\n  return {\n    title: meta.data.title,\n    content: content\n  };\n};\n\nconst getConfig = async () => {\n  const config = await import(\"../config.yml\");\n  return yaml.safeLoad(config.default);\n};\n\nexport { getAllPosts, getPostBySlug, getConfig };","map":{"version":3,"sources":["/Users/chinds/workspace/chrishinds.dev/api/index.js"],"names":["matter","marked","yaml","getAllPosts","context","require","posts","key","keys","post","slice","content","meta","default","push","slug","replace","title","data","getPostBySlug","fileContent","getConfig","config","safeLoad"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,MAAMC,WAAW,GAAG,YAAY;AAC9B,QAAMC,OAAO,GAAGC,OAAO,CAACD,OAAR,CAAgB,WAAhB,EAA6B,KAA7B,EAAoC,OAApC,CAAhB;;AACA,QAAME,KAAK,GAAG,EAAd;;AAEA,OAAK,MAAMC,GAAX,IAAkBH,OAAO,CAACI,IAAR,EAAlB,EAAkC;AAChC,UAAMC,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAb;AACA,UAAMC,OAAO,GAAG,MAAM,OAAQ,aAAYF,IAAK,EAAzB,CAAtB;AACA,UAAMG,IAAI,GAAGZ,MAAM,CAACW,OAAO,CAACE,OAAT,CAAnB;AAEAP,IAAAA,KAAK,CAACQ,IAAN,CAAW;AACTC,MAAAA,IAAI,EAAEN,IAAI,CAACO,OAAL,CAAa,KAAb,EAAoB,EAApB,CADG;AAETC,MAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD;AAFR,KAAX;AAID;;AAED,SAAOX,KAAP;AACD,CAhBD;;AAkBA,MAAMa,aAAa,GAAG,MAAOJ,IAAP,IAAgB;AACpC,QAAMK,WAAW,GAAG,MAAM,OAAQ,aAAYL,IAAK,KAAzB,CAA1B;AACA,QAAMH,IAAI,GAAGZ,MAAM,CAACoB,WAAW,CAACP,OAAb,CAAnB;AACA,QAAMF,OAAO,GAAGV,MAAM,CAACW,IAAI,CAACD,OAAN,CAAtB;AAEA,SAAO;AACLM,IAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD,KADZ;AAELN,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CATD;;AAWA,MAAMU,SAAS,GAAG,YAAY;AAC5B,QAAMC,MAAM,GAAG,MAAM,OAAO,eAAP,CAArB;AAEA,SAAOpB,IAAI,CAACqB,QAAL,CAAcD,MAAM,CAACT,OAArB,CAAP;AACD,CAJD;;AAMA,SAASV,WAAT,EAAsBgB,aAAtB,EAAqCE,SAArC","sourcesContent":["import matter from \"gray-matter\";\nimport marked from \"marked\";\nimport yaml from \"js-yaml\";\n\nconst getAllPosts = async () => {\n  const context = require.context(\"../_posts\", false, /\\.md$/);\n  const posts = [];\n\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../_posts/${post}`);\n    const meta = matter(content.default);\n\n    posts.push({\n      slug: post.replace(\".md\", \"\"),\n      title: meta.data.title,\n    });\n  }\n\n  return posts;\n};\n\nconst getPostBySlug = async (slug) => {\n  const fileContent = await import(`../_posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const content = marked(meta.content);\n\n  return {\n    title: meta.data.title,\n    content: content,\n  };\n};\n\nconst getConfig = async () => {\n  const config = await import(\"../config.yml\");\n\n  return yaml.safeLoad(config.default);\n};\n\nexport { getAllPosts, getPostBySlug, getConfig };\n"]},"metadata":{},"sourceType":"module"}